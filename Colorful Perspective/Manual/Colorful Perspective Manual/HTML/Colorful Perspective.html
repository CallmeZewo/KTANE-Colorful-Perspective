<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Colorful Perspective — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script>
        let rotationDegree = 0;

        function rotateTable(direction) {
            if (direction == 'clockwise') {
                rotationDegree += 90;
            } else if (direction == 'counterclockwise') {
                rotationDegree -= 90;
            } else if (direction == 'reset') {
                rotationDegree = 0;
            }

            document.getElementById('rotate-table').style.transform = `rotate(${rotationDegree}deg)`
        }
    </script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
            text-align: center;
        }

        .buttons { text-align: center; }

        .dark thead td, thead td {
            border-top: hidden;
            border-left: hidden;
        }

        .dark .color, .color { margin-top: -1.5em; }

        .dark .arrow, .arrow {
            color: #000000;
            font-size: 2.25em;
            font-weight: bold;
            margin: -0.6em auto 0.5em auto;
            transition: 0.1s
        }

        .dark .arrow td, .arrow td {
            width: 25px;
            height: 50px;
        }

        ol li {margin-top: 0.25em;}

        td.red { background-color: #FF0000; } .dark td.red { background-color: #FF0000; }
        td.green { background-color: #00FF00; } .dark td.green { background-color: #00FF00; }
        td.blue { background-color: #0000FF; } .dark td.blue { background-color: #0000FF }
        td.yellow { background-color: #FFFF00; } .dark td.yellow { background-color: #FFFF00; }
        td.white { background-color: #FFFFFF; } .dark td.white { background-color: #FFFFFF; color: #000000; }
        td.cyan { background-color: #00FFFF; } .dark td.cyan { background-color: #00FFFF; }
        td.magenta { background-color: #FF00FF; } .dark td.magenta { background-color: #FF00FF; }
        td.black { background-color: #000000; color: #FFFFFF; } .dark td.black { background-color: #000000; }

        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 2'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Colorful Perspective</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Colorful Perspective.svg" class="diagram">
                <h2>On the Subject of Colorful Perspective</h2>
                <p class="flavour-text">There are so many colors. There are even more from this angle!</p>

                <p>
                    The module consists of 64 cubes arranged in a 4×4×4 grid.<br>
                    These cubes are evenly split across eight colors:<br>
                    <u>black, red, green, blue, cyan, magenta, yellow, and white</u>,<br>
                    with each color appearing exactly eight times.
                </p>
                <p>
                    Following the rules below, certain cubes must be selected, causing them to disappear.
                    The module will be solved when no cubes remain.
                </p>
                <h3>Starting current color</h3>
                <table class="color">
                    <thead>
                        <tr>
                            <td colspan="2" rowspan="2"></td>
                            <th colspan="2">Sum of 3. and 6. Serialnumber digits</th>
                        </tr>
                        <tr>
                            <th>&leq; 10</th>
                            <th>&gt; 10</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="4"><strong>Battery<br>holder<br>amount</strong></td>
                            <td><strong>&leq; 1 holders</strong></td>
                            <td class="green"></td>
                            <td class="red"></td>
                        </tr>
                        <tr>
                            <td><strong>2 holders</strong></td>
                            <td class="black"></td>
                            <td class="cyan"></td>
                        </tr>
                        <tr>
                            <td><strong>3 holders</strong></td>
                            <td class="blue"></td>
                            <td class="yellow"></td>
                        </tr>
                        <tr>
                            <td><strong>&geq; 4 holders</strong></td>
                            <td class="white"></td>
                            <td class="magenta"></td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    If the first digit of the serial number is even, look at the right face and, in reading order,
                    find the first color that matches the arrow table below. Use that direction for the starting face.
                    Otherwise, look at the last matching color on the left face instead. If no color matches, start on the front face.<sup>[1]</sup>
                </p>
                <h3>Arrow table</h3>
                <table class="arrow rotate-table" id="rotate-table">
                    <tr><td class="blue">&rarr;</td><td class="green">&uarr;</td><td class="yellow">&larr;</td><td class="white">&darr;</td></tr>
                    <tr><td class="red">&darr;</td><td class="cyan">&rarr;</td><td class="black">&uarr;</td><td class="magenta">&larr;</td></tr>
                    <tr><td class="magenta">&uarr;</td><td class="blue">&darr;</td><td class="red">&larr;</td><td class="white">&rarr;</td></tr>
                    <tr><td class="black">&rarr;</td><td class="yellow">&uarr;</td><td class="cyan">&darr;</td><td class="green">&larr;</td></tr>
                </table>
                <div class="buttons">
                    <button onclick="rotateTable('clockwise')">Rotate Clockwise</button>
                    <button onclick="rotateTable('counterclockwise')">Rotate Counterclockwise</button>
                    <button onclick="rotateTable('reset')">Reset</button>
                </div>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Colorful Perspective</span>
            </div>
            <div class="page-content">
                <ol>
                    <li>
                        Press all currently visible squares that match your current color and note their positions in the arrow table.
                        If the current color is not present on that face, use the first available color in this order:<br>
                        <u>Black → Red → Green → Blue → Cyan → Magenta → Yellow → White.</u>
                    </li>
                    <li>
                        Toggle the RGB channel values of your current color using the noted cell colors from the table:
                        <ul>
                            <li>If the number of pressed squares is odd, invert the colors from the table before toggling the channels.</li>
                        </ul>
                    </li>
                    <li>
                        Using the arrows from the noted cells in the table, in the same order that you pressed the cubes in, results into a sequence of directions leading to your next face:
                        <ul>
                            <li>If number of pressed squares is even, inverse every arrows’ direction in the sequence.</li>
                        </ul>
                        From the face you’re currently looking at, adjust your perspective following the sequence of directions.
                        If you are ever supposed to move to the back face, skip over it to the next face, but keep track of how many times this occurs.
                    </li>
                    <li>Each time you skip over the back face, rotate the arrow table clockwise:
                        <ul><li>If the number of pressed squares is odd, rotate it counter clockwise instead.</li></ul>
                    </li>
                </ol>
                <p>Repeat these steps until the module is solved.</p>
                <h5>
                    <sup>[1]</sup>When looking at the bottom or top face,
                    the correct rotation of that face should be such that moving up from the bottom face or moving down from the top face leads to the front face.
                </h5>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>
    </div>
</body>
</html>
